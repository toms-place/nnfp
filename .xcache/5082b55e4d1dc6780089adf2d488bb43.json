{"dependencies":[{"name":"/Users/websi96/WU/nnfp/package.json","includedInParent":true,"mtime":1529790009363},{"name":"express","loc":{"line":1,"column":22},"parent":"/Users/websi96/WU/nnfp/routes/upload.js","resolved":"/Users/websi96/WU/nnfp/node_modules/express/index.js"},{"name":"../src/callLines","loc":{"line":3,"column":24},"parent":"/Users/websi96/WU/nnfp/routes/upload.js","resolved":"/Users/websi96/WU/nnfp/src/callLines.js"}],"generated":{"js":"var e=require(\"express\"),s=e.Router(),t=require(\"../src/callLines\");s.post(\"/\",function(e,s){if(0===Object.keys(e.files).length&&e.files.constructor===Object)return s.status(400).send(\"No files were uploaded.\");e.files.uploadedFile.mv(\"public/data/testfile.csv\",function(e){if(e)return s.status(500).send(e);t(\"public/data/testfile.csv\",function(e){if(e){for(var t=\"\",r=0,i=0;i<e.length&&i<5;i++)t+=\"row \"+(i+1)+\": \"+e[i]+\"<br />\",r++;s.render(\"nnfp\",{title:\"Success\",message:\"You uploaded a file!\",fileHead:\"This are the first \"+r+\" rows of your file:\",file:t})}})})}),module.exports=s;","map":{"mappings":[{"source":"routes/upload.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"routes/upload.js","name":"express","original":{"line":1,"column":4},"generated":{"line":1,"column":4}},{"source":"routes/upload.js","name":"require","original":{"line":1,"column":14},"generated":{"line":1,"column":6}},{"source":"routes/upload.js","original":{"line":1,"column":22},"generated":{"line":1,"column":14}},{"source":"routes/upload.js","name":"router","original":{"line":2,"column":4},"generated":{"line":1,"column":25}},{"source":"routes/upload.js","name":"express","original":{"line":2,"column":13},"generated":{"line":1,"column":27}},{"source":"routes/upload.js","name":"Router","original":{"line":2,"column":21},"generated":{"line":1,"column":29}},{"source":"routes/upload.js","name":"callLines","original":{"line":3,"column":4},"generated":{"line":1,"column":38}},{"source":"routes/upload.js","name":"require","original":{"line":3,"column":16},"generated":{"line":1,"column":40}},{"source":"routes/upload.js","original":{"line":3,"column":24},"generated":{"line":1,"column":48}},{"source":"routes/upload.js","name":"router","original":{"line":5,"column":0},"generated":{"line":1,"column":68}},{"source":"routes/upload.js","name":"post","original":{"line":5,"column":7},"generated":{"line":1,"column":70}},{"source":"routes/upload.js","original":{"line":5,"column":12},"generated":{"line":1,"column":75}},{"source":"routes/upload.js","original":{"line":5,"column":17},"generated":{"line":1,"column":79}},{"source":"routes/upload.js","name":"req","original":{"line":5,"column":26},"generated":{"line":1,"column":88}},{"source":"routes/upload.js","name":"res","original":{"line":5,"column":31},"generated":{"line":1,"column":90}},{"source":"routes/upload.js","name":"Object","original":{"line":6,"column":6},"generated":{"line":1,"column":93}},{"source":"routes/upload.js","original":{"line":6,"column":40},"generated":{"line":1,"column":96}},{"source":"routes/upload.js","name":"Object","original":{"line":6,"column":6},"generated":{"line":1,"column":100}},{"source":"routes/upload.js","name":"keys","original":{"line":6,"column":13},"generated":{"line":1,"column":107}},{"source":"routes/upload.js","name":"req","original":{"line":6,"column":18},"generated":{"line":1,"column":112}},{"source":"routes/upload.js","name":"files","original":{"line":6,"column":22},"generated":{"line":1,"column":114}},{"source":"routes/upload.js","name":"length","original":{"line":6,"column":29},"generated":{"line":1,"column":121}},{"source":"routes/upload.js","name":"req","original":{"line":6,"column":45},"generated":{"line":1,"column":129}},{"source":"routes/upload.js","name":"files","original":{"line":6,"column":49},"generated":{"line":1,"column":131}},{"source":"routes/upload.js","name":"constructor","original":{"line":6,"column":55},"generated":{"line":1,"column":137}},{"source":"routes/upload.js","name":"Object","original":{"line":6,"column":71},"generated":{"line":1,"column":151}},{"source":"routes/upload.js","name":"res","original":{"line":7,"column":11},"generated":{"line":1,"column":158}},{"source":"routes/upload.js","name":"res","original":{"line":7,"column":11},"generated":{"line":1,"column":165}},{"source":"routes/upload.js","name":"status","original":{"line":7,"column":15},"generated":{"line":1,"column":167}},{"source":"routes/upload.js","original":{"line":7,"column":22},"generated":{"line":1,"column":174}},{"source":"routes/upload.js","name":"send","original":{"line":7,"column":27},"generated":{"line":1,"column":179}},{"source":"routes/upload.js","original":{"line":7,"column":32},"generated":{"line":1,"column":184}},{"source":"routes/upload.js","name":"req","original":{"line":9,"column":23},"generated":{"line":1,"column":211}},{"source":"routes/upload.js","name":"files","original":{"line":9,"column":27},"generated":{"line":1,"column":213}},{"source":"routes/upload.js","name":"uploadedFile","original":{"line":9,"column":33},"generated":{"line":1,"column":219}},{"source":"routes/upload.js","name":"mv","original":{"line":11,"column":17},"generated":{"line":1,"column":232}},{"source":"routes/upload.js","original":{"line":11,"column":20},"generated":{"line":1,"column":235}},{"source":"routes/upload.js","original":{"line":11,"column":48},"generated":{"line":1,"column":262}},{"source":"routes/upload.js","name":"err","original":{"line":11,"column":57},"generated":{"line":1,"column":271}},{"source":"routes/upload.js","name":"err","original":{"line":12,"column":10},"generated":{"line":1,"column":274}},{"source":"routes/upload.js","name":"err","original":{"line":12,"column":10},"generated":{"line":1,"column":277}},{"source":"routes/upload.js","name":"res","original":{"line":13,"column":15},"generated":{"line":1,"column":279}},{"source":"routes/upload.js","name":"res","original":{"line":13,"column":15},"generated":{"line":1,"column":286}},{"source":"routes/upload.js","name":"status","original":{"line":13,"column":19},"generated":{"line":1,"column":288}},{"source":"routes/upload.js","original":{"line":13,"column":26},"generated":{"line":1,"column":295}},{"source":"routes/upload.js","name":"send","original":{"line":13,"column":31},"generated":{"line":1,"column":300}},{"source":"routes/upload.js","name":"err","original":{"line":13,"column":36},"generated":{"line":1,"column":305}},{"source":"routes/upload.js","original":{"line":15,"column":18},"generated":{"line":1,"column":308}},{"source":"routes/upload.js","original":{"line":15,"column":18},"generated":{"line":1,"column":310}},{"source":"routes/upload.js","original":{"line":15,"column":46},"generated":{"line":1,"column":337}},{"source":"routes/upload.js","name":"lineArr","original":{"line":15,"column":55},"generated":{"line":1,"column":346}},{"source":"routes/upload.js","name":"lineArr","original":{"line":16,"column":14},"generated":{"line":1,"column":349}},{"source":"routes/upload.js","name":"lineArr","original":{"line":16,"column":14},"generated":{"line":1,"column":352}},{"source":"routes/upload.js","original":{"line":16,"column":23},"generated":{"line":1,"column":354}},{"source":"routes/upload.js","original":{"line":20,"column":17},"generated":{"line":1,"column":355}},{"source":"routes/upload.js","name":"firstRowsOfFile","original":{"line":18,"column":16},"generated":{"line":1,"column":359}},{"source":"routes/upload.js","name":"firstRowsOfFile","original":{"line":18,"column":16},"generated":{"line":1,"column":363}},{"source":"routes/upload.js","original":{"line":18,"column":34},"generated":{"line":1,"column":365}},{"source":"routes/upload.js","name":"count","original":{"line":19,"column":16},"generated":{"line":1,"column":368}},{"source":"routes/upload.js","original":{"line":19,"column":24},"generated":{"line":1,"column":370}},{"source":"routes/upload.js","name":"i","original":{"line":20,"column":21},"generated":{"line":1,"column":372}},{"source":"routes/upload.js","original":{"line":20,"column":25},"generated":{"line":1,"column":374}},{"source":"routes/upload.js","name":"i","original":{"line":20,"column":28},"generated":{"line":1,"column":376}},{"source":"routes/upload.js","name":"lineArr","original":{"line":20,"column":32},"generated":{"line":1,"column":378}},{"source":"routes/upload.js","name":"length","original":{"line":20,"column":40},"generated":{"line":1,"column":380}},{"source":"routes/upload.js","name":"i","original":{"line":20,"column":50},"generated":{"line":1,"column":388}},{"source":"routes/upload.js","original":{"line":20,"column":54},"generated":{"line":1,"column":390}},{"source":"routes/upload.js","name":"i","original":{"line":20,"column":57},"generated":{"line":1,"column":392}},{"source":"routes/upload.js","original":{"line":21,"column":35},"generated":{"line":1,"column":396}},{"source":"routes/upload.js","original":{"line":21,"column":35},"generated":{"line":1,"column":399}},{"source":"routes/upload.js","name":"i","original":{"line":21,"column":45},"generated":{"line":1,"column":407}},{"source":"routes/upload.js","original":{"line":21,"column":47},"generated":{"line":1,"column":409}},{"source":"routes/upload.js","original":{"line":21,"column":52},"generated":{"line":1,"column":412}},{"source":"routes/upload.js","name":"lineArr","original":{"line":21,"column":59},"generated":{"line":1,"column":417}},{"source":"routes/upload.js","name":"i","original":{"line":21,"column":67},"generated":{"line":1,"column":419}},{"source":"routes/upload.js","original":{"line":21,"column":72},"generated":{"line":1,"column":422}},{"source":"routes/upload.js","name":"count","original":{"line":22,"column":16},"generated":{"line":1,"column":431}},{"source":"routes/upload.js","name":"render","original":{"line":25,"column":16},"generated":{"line":1,"column":435}},{"source":"routes/upload.js","name":"render","original":{"line":25,"column":16},"generated":{"line":1,"column":437}},{"source":"routes/upload.js","original":{"line":25,"column":23},"generated":{"line":1,"column":444}},{"source":"routes/upload.js","original":{"line":26,"column":23},"generated":{"line":1,"column":452}},{"source":"routes/upload.js","original":{"line":26,"column":23},"generated":{"line":1,"column":458}},{"source":"routes/upload.js","original":{"line":27,"column":25},"generated":{"line":1,"column":468}},{"source":"routes/upload.js","original":{"line":27,"column":25},"generated":{"line":1,"column":476}},{"source":"routes/upload.js","original":{"line":28,"column":26},"generated":{"line":1,"column":499}},{"source":"routes/upload.js","original":{"line":28,"column":26},"generated":{"line":1,"column":508}},{"source":"routes/upload.js","name":"count","original":{"line":28,"column":50},"generated":{"line":1,"column":530}},{"source":"routes/upload.js","original":{"line":28,"column":58},"generated":{"line":1,"column":532}},{"source":"routes/upload.js","name":"firstRowsOfFile","original":{"line":29,"column":22},"generated":{"line":1,"column":554}},{"source":"routes/upload.js","name":"firstRowsOfFile","original":{"line":29,"column":22},"generated":{"line":1,"column":559}},{"source":"routes/upload.js","name":"module","original":{"line":38,"column":0},"generated":{"line":1,"column":570}},{"source":"routes/upload.js","name":"exports","original":{"line":38,"column":7},"generated":{"line":1,"column":577}},{"source":"routes/upload.js","name":"router","original":{"line":38,"column":17},"generated":{"line":1,"column":585}}],"sources":{"routes/upload.js":"var express = require('express');\nvar router = express.Router();\nvar callLines = require('../src/callLines');\n \nrouter.post('/', function(req, res) {\n  if (Object.keys(req.files).length === 0 && req.files.constructor === Object) {\n    return res.status(400).send('No files were uploaded.');\n  } else {\n    var uploadedFile = req.files.uploadedFile;\n\n    uploadedFile.mv('public/data/testfile.csv', function(err) {\n      if (err) {\n        return res.status(500).send(err);\n      } else {\n        callLines('public/data/testfile.csv', function(lineArr){\n          if (lineArr) {\n\n            var firstRowsOfFile = \"\";\n            var count = 0;\n            for (var i = 0; i < lineArr.length && i < 5; i++) {\n                firstRowsOfFile += 'row ' + (i+1) + \": \" + lineArr[i] + '<br />';\n                count++;\n            }\n\n            res.render('nnfp', {\n                title: 'Success',\n                message: 'You uploaded a file!',\n                fileHead: 'This are the first ' + count + ' rows of your file:',\n                file: firstRowsOfFile\n            });\n          }\n        });\n      }\n    });\n  }\n});\n\nmodule.exports = router;"},"lineCount":null}},"hash":"1083374c81cccef2c47e12f3517a2eea","cacheData":{"env":{}},"id":4}